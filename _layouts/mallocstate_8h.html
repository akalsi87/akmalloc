<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.8"/>
<title>akmalloc: mallocstate.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">akmalloc
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.8 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_e526a8c598faaf5c145b34a56f080e97.html">akmalloc</a></li><li class="navelem"><a class="el" href="dir_47699a72d339c8c338ac1c23846b46c2.html">include</a></li><li class="navelem"><a class="el" href="dir_7fd84b9efc932198949ab07641dcb8cf.html">akmalloc</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">mallocstate.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &quot;<a class="el" href="spinlock_8h_source.html">akmalloc/spinlock.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="slab_8h_source.html">akmalloc/slab.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="coalescingalloc_8h_source.html">akmalloc/coalescingalloc.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="setup_8h_source.html">akmalloc/setup.h</a>&quot;</code><br />
</div>
<p><a href="mallocstate_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structak__malloc__state__tag.html">ak_malloc_state</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a6306c2702162906f015d2eefb606d52f"><td class="memItemLeft" align="right" valign="top">typedef int(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mallocstate_8h.html#a6306c2702162906f015d2eefb606d52f">ak_seg_cbk</a> )(const void *, size_t)</td></tr>
<tr class="separator:a6306c2702162906f015d2eefb606d52f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a71084e986c2e6702e94744e8ecbf497b"><td class="memItemLeft" align="right" valign="top">static ak_inline size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mallocstate_8h.html#a71084e986c2e6702e94744e8ecbf497b">ak_malloc_usable_size_in_state</a> (const void *mem)</td></tr>
<tr class="separator:a71084e986c2e6702e94744e8ecbf497b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f96bf7fa9d763ddd835446d4dc76378"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mallocstate_8h.html#a5f96bf7fa9d763ddd835446d4dc76378">ak_malloc_init_state</a> (ak_malloc_state *s)</td></tr>
<tr class="separator:a5f96bf7fa9d763ddd835446d4dc76378"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a626ac507bc5f7cf51c8add4768681162"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mallocstate_8h.html#a626ac507bc5f7cf51c8add4768681162">ak_malloc_destroy_state</a> (ak_malloc_state *m)</td></tr>
<tr class="separator:a626ac507bc5f7cf51c8add4768681162"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a754737b6ab437bcb4c49161ed74f06b9"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mallocstate_8h.html#a754737b6ab437bcb4c49161ed74f06b9">ak_malloc_from_state</a> (ak_malloc_state *m, size_t sz)</td></tr>
<tr class="separator:a754737b6ab437bcb4c49161ed74f06b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb8263f5f4acf9b898495d269e4158a6"><td class="memItemLeft" align="right" valign="top">static ak_inline void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mallocstate_8h.html#afb8263f5f4acf9b898495d269e4158a6">ak_free_to_state</a> (ak_malloc_state *m, void *mem)</td></tr>
<tr class="separator:afb8263f5f4acf9b898495d269e4158a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab2679a9ed0e7d824206e6952f98c0578"><td class="memItemLeft" align="right" valign="top">static ak_inline void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mallocstate_8h.html#ab2679a9ed0e7d824206e6952f98c0578">ak_realloc_in_place_from_state</a> (ak_malloc_state *m, void *mem, size_t newsz)</td></tr>
<tr class="separator:ab2679a9ed0e7d824206e6952f98c0578"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f75e28ad84b5efaee76d7d083733b2f"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mallocstate_8h.html#a0f75e28ad84b5efaee76d7d083733b2f">ak_realloc_from_state</a> (ak_malloc_state *m, void *mem, size_t newsz)</td></tr>
<tr class="separator:a0f75e28ad84b5efaee76d7d083733b2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bf2e2efbe971ae9728292b148dc6165"><td class="memItemLeft" align="right" valign="top">static void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mallocstate_8h.html#a1bf2e2efbe971ae9728292b148dc6165">ak_aligned_alloc_from_state</a> (ak_malloc_state *m, size_t aln, size_t sz)</td></tr>
<tr class="separator:a1bf2e2efbe971ae9728292b148dc6165"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6069d0f449087d281723c798b9aa7ded"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mallocstate_8h.html#a6069d0f449087d281723c798b9aa7ded">ak_posix_memalign_from_state</a> (ak_malloc_state *m, void **pmem, size_t aln, size_t sz)</td></tr>
<tr class="separator:a6069d0f449087d281723c798b9aa7ded"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab848c898a0047344cd2dbb0e4ea5861d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mallocstate_8h.html#ab848c898a0047344cd2dbb0e4ea5861d">ak_malloc_for_each_segment_in_state</a> (ak_malloc_state *m, <a class="el" href="mallocstate_8h.html#a6306c2702162906f015d2eefb606d52f">ak_seg_cbk</a> cbk)</td></tr>
<tr class="separator:ab848c898a0047344cd2dbb0e4ea5861d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a8f58c7e38efcb81cab38b1548c8a2e68"><td class="memItemLeft" align="right" valign="top">static const ak_sz&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mallocstate_8h.html#a8f58c7e38efcb81cab38b1548c8a2e68">SLAB_SIZES</a> [16]</td></tr>
<tr class="separator:a8f58c7e38efcb81cab38b1548c8a2e68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40e9a9df62d270ee1c616efe2ee5e415"><td class="memItemLeft" align="right" valign="top">static const ak_sz&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="mallocstate_8h.html#a40e9a9df62d270ee1c616efe2ee5e415">CA_SIZES</a> [8]</td></tr>
<tr class="separator:a40e9a9df62d270ee1c616efe2ee5e415"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><dl class="section date"><dt>Date</dt><dd>Jul 12, 2016 </dd></dl>

<p>Definition in file <a class="el" href="mallocstate_8h_source.html">mallocstate.h</a>.</p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="a6306c2702162906f015d2eefb606d52f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef int(* ak_seg_cbk)(const void *, size_t)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Gets a pointer to a memory segment and its size. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">p;</td><td>Pointer to segment memory. </td></tr>
    <tr><td class="paramname">sz;</td><td>Number of bytes in the segment.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>0</code> to stop iteration, non-zero to continue. </dd></dl>

<p>Definition at line <a class="el" href="mallocstate_8h_source.html#l00074">74</a> of file <a class="el" href="mallocstate_8h_source.html">mallocstate.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a1bf2e2efbe971ae9728292b148dc6165"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void* ak_aligned_alloc_from_state </td>
          <td>(</td>
          <td class="paramtype">ak_malloc_state *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>aln</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>sz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Attempt to allocate memory containing at least <code>n</code> bytes at an address which is a multiple of <code>aln</code>. <code>aln</code> must be a power of two. <code>sz</code> must be a multiple of <code>aln</code>. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m;</td><td>The allocator </td></tr>
    <tr><td class="paramname">aln;</td><td>The alignment </td></tr>
    <tr><td class="paramname">sz;</td><td>The size for the allocation</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>0</code> on failure, else pointer to at least <code>n</code> bytes of memory at an aligned address. </dd></dl>

<p>Definition at line <a class="el" href="mallocstate_8h_source.html#l00525">525</a> of file <a class="el" href="mallocstate_8h_source.html">mallocstate.h</a>.</p>

</div>
</div>
<a class="anchor" id="afb8263f5f4acf9b898495d269e4158a6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static ak_inline void ak_free_to_state </td>
          <td>(</td>
          <td class="paramtype">ak_malloc_state *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>mem</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return memory to the allocator. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m;</td><td>The allocator </td></tr>
    <tr><td class="paramname">mem;</td><td>Pointer to the memory to return. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mallocstate_8h_source.html#l00400">400</a> of file <a class="el" href="mallocstate_8h_source.html">mallocstate.h</a>.</p>

</div>
</div>
<a class="anchor" id="a626ac507bc5f7cf51c8add4768681162"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void ak_malloc_destroy_state </td>
          <td>(</td>
          <td class="paramtype">ak_malloc_state *&#160;</td>
          <td class="paramname"><em>m</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Destroy the private malloc like allocator and return all memory to the OS. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m;</td><td>Pointer to the allocator </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mallocstate_8h_source.html#l00359">359</a> of file <a class="el" href="mallocstate_8h_source.html">mallocstate.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab848c898a0047344cd2dbb0e4ea5861d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void ak_malloc_for_each_segment_in_state </td>
          <td>(</td>
          <td class="paramtype">ak_malloc_state *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="mallocstate_8h.html#a6306c2702162906f015d2eefb606d52f">ak_seg_cbk</a>&#160;</td>
          <td class="paramname"><em>cbk</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Iterate over all memory segments allocated. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m;</td><td>The allocator </td></tr>
    <tr><td class="paramname">cbk;</td><td>Callback that is given the address of a segment and its size. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="mallocstate_8h.html#a6306c2702162906f015d2eefb606d52f">ak_seg_cbk</a>. </dd></dl>

<p>Definition at line <a class="el" href="mallocstate_8h_source.html#l00583">583</a> of file <a class="el" href="mallocstate_8h_source.html">mallocstate.h</a>.</p>

</div>
</div>
<a class="anchor" id="a754737b6ab437bcb4c49161ed74f06b9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void* ak_malloc_from_state </td>
          <td>(</td>
          <td class="paramtype">ak_malloc_state *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>sz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Attempt to allocate memory containing at least <code>n</code> bytes. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m;</td><td>The allocator </td></tr>
    <tr><td class="paramname">sz;</td><td>The size for the allocation</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>0</code> on failure, else pointer to at least <code>n</code> bytes of memory. </dd></dl>

<p>Definition at line <a class="el" href="mallocstate_8h_source.html#l00384">384</a> of file <a class="el" href="mallocstate_8h_source.html">mallocstate.h</a>.</p>

</div>
</div>
<a class="anchor" id="a5f96bf7fa9d763ddd835446d4dc76378"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void ak_malloc_init_state </td>
          <td>(</td>
          <td class="paramtype">ak_malloc_state *&#160;</td>
          <td class="paramname"><em>s</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Initialize a private malloc like allocator. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">s;</td><td>Pointer to the allocator to initialize (non-NULL) </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="mallocstate_8h_source.html#l00337">337</a> of file <a class="el" href="mallocstate_8h_source.html">mallocstate.h</a>.</p>

</div>
</div>
<a class="anchor" id="a71084e986c2e6702e94744e8ecbf497b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static ak_inline size_t ak_malloc_usable_size_in_state </td>
          <td>(</td>
          <td class="paramtype">const void *&#160;</td>
          <td class="paramname"><em>mem</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Return the usable size of the memory region pointed to by <code>p</code>. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mem;</td><td>Pointer to the memory to determize size of.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of bytes that can be written to in the region. </dd></dl>

<p>Definition at line <a class="el" href="mallocstate_8h_source.html#l00495">495</a> of file <a class="el" href="mallocstate_8h_source.html">mallocstate.h</a>.</p>

</div>
</div>
<a class="anchor" id="a6069d0f449087d281723c798b9aa7ded"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int ak_posix_memalign_from_state </td>
          <td>(</td>
          <td class="paramtype">ak_malloc_state *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void **&#160;</td>
          <td class="paramname"><em>pmem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>aln</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>sz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Attempt to allocate memory containing at least <code>n</code> bytes at an address which is a multiple of <code>aln</code> and assign the address to <code>*pmem</code>. <code>aln</code> must be a power of two and a multiple of <code>sizeof(void*)</code>. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m;</td><td>The allocator </td></tr>
    <tr><td class="paramname">pmem;</td><td>The address where the memory address should be writted. </td></tr>
    <tr><td class="paramname">aln;</td><td>The alignment </td></tr>
    <tr><td class="paramname">sz;</td><td>The size for the allocation</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>0</code> on success, 12 if no more memory is available, and 22 if <code>aln</code> was not a power of two and a multiple of <code>sizeof(void*)</code> </dd></dl>

<p>Definition at line <a class="el" href="mallocstate_8h_source.html#l00555">555</a> of file <a class="el" href="mallocstate_8h_source.html">mallocstate.h</a>.</p>

</div>
</div>
<a class="anchor" id="a0f75e28ad84b5efaee76d7d083733b2f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void* ak_realloc_from_state </td>
          <td>(</td>
          <td class="paramtype">ak_malloc_state *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>mem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>newsz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Attempt to grow memory at the region pointed to by <code>p</code> to a size <code>newsz</code>. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m;</td><td>The allocator </td></tr>
    <tr><td class="paramname">mem;</td><td>Memory to grow </td></tr>
    <tr><td class="paramname">newsz;</td><td>New size to grow to</td></tr>
  </table>
  </dd>
</dl>
<p>This function will copy the old bytes to a new memory location if the old memory cannot be grown in place, and will free the old memory. If no more memory is available it will not destroy the old memory.</p>
<dl class="section return"><dt>Returns</dt><dd><code>NULL</code> if no memory is available, or a pointer to memory with at least <code>newsz</code> bytes. </dd></dl>

<p>Definition at line <a class="el" href="mallocstate_8h_source.html#l00467">467</a> of file <a class="el" href="mallocstate_8h_source.html">mallocstate.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab2679a9ed0e7d824206e6952f98c0578"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static ak_inline void* ak_realloc_in_place_from_state </td>
          <td>(</td>
          <td class="paramtype">ak_malloc_state *&#160;</td>
          <td class="paramname"><em>m</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>mem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>newsz</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Attempt to grow memory at the region pointed to by <code>p</code> to a size <code>newsz</code> without relocation. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">m;</td><td>The allocator </td></tr>
    <tr><td class="paramname">mem;</td><td>Memory to grow </td></tr>
    <tr><td class="paramname">newsz;</td><td>New size to grow to</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>NULL</code> if no memory is available, or <code>mem</code> with at least <code>newsz</code> bytes. </dd></dl>

<p>Definition at line <a class="el" href="mallocstate_8h_source.html#l00436">436</a> of file <a class="el" href="mallocstate_8h_source.html">mallocstate.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a40e9a9df62d270ee1c616efe2ee5e415"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const ak_sz CA_SIZES[8]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    768, 1408, 2048, 4096, 8192, 16384, 65536,  (AK_SZ_ONE &lt;&lt; 20)  </div>
<div class="line">}</div>
</div><!-- fragment --><p>Sizes for the coalescing allocators in an <code>ak_malloc_state</code> </p>
<p>Size here denotes maximum size request for each allocator. </p>

<p>Definition at line <a class="el" href="mallocstate_8h_source.html#l00167">167</a> of file <a class="el" href="mallocstate_8h_source.html">mallocstate.h</a>.</p>

</div>
</div>
<a class="anchor" id="a8f58c7e38efcb81cab38b1548c8a2e68"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const ak_sz SLAB_SIZES[16]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= {</div>
<div class="line">    16,   32,   48,   64,   80,   96,  112,  128,</div>
<div class="line">   144,  160,  176,  192,  208,  224,  240,  256</div>
<div class="line">}</div>
</div><!-- fragment --><p>Sizes for the slabs in an <code>ak_malloc_state</code> </p>

<p>Definition at line <a class="el" href="mallocstate_8h_source.html#l00155">155</a> of file <a class="el" href="mallocstate_8h_source.html">mallocstate.h</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Jul 16 2016 20:07:46 for akmalloc by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.8
</small></address>
</body>
</html>
